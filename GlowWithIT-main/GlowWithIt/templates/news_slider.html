{# templates/news_slider.html #}
{% load static %}



<section class="news-zone position-relative py-5">


  <div class="news-glow" ></div>

  <div class="container position-relative">
    <div class="d-flex justify-content-between align-items-center mb-3">

      <h3 class="display-7 fw-bold mb-3">Quick Safety News & Tips</h3>

      <div class="d-flex gap-2">
        <button class="btn btn-outline-light btn-sm" id="newsPrev">
          <i class="bi bi-arrow-left"></i>
        </button>
        <button class="btn btn-outline-light btn-sm" id="newsNext">
          <i class="bi bi-arrow-right"></i>
        </button>
      </div>
    </div>

    <div class="news-viewport card-glass rounded-4xl p-3">
      <div class="news-track" id="newsTrack" role="listbox">

        {% for item in news_items %}

          <article class="news-card" role="option"tabindex="0">

            <div class="news-card-face">
              <div class="news-meta small text-muted-2 mb-2">
                {% if item.published_date %}{{ item.published_date|date:"d M Y" }}{% endif %}
                {% if item.source %} • 
                  {% if item.source_is_url %}
                    {{ item.source_domain }}
                  {% else %}
                    {{ item.source }}
                  {% endif %}
                {% endif %}
              </div>

              <h6 class="fw-semibold mb-2">{{ item.title }}</h6>
              <p class="small text-muted-2 mb-3">{{ item.description|truncatechars:150 }}</p>

              {% if item.source_is_url %}
               <a class="stretched-link small read-more" href="{{ item.source }}" target="_blank" rel="noopener">
                Read more <i class="bi bi-box-arrow-up-right ms-1"></i>
              </a>

              {% endif %}
            </div>
          </article>
        {% empty %}
          <div class="text-center w-100 p-4 text-muted-2">No tips yet—check back soon.</div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<script type="module" src="{% static 'js/news-slider.js' %}" defer></script>
